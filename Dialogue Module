local Dialogue = {
	NPC = {
		[1] = {
			Msg = "Hello! I'm an NPC",
			Type = "Question",
			Responses = {
				{Text = "Hello", Next = 2, ButtonNumber = 1}
			}
		},
		[2] = {
			Msg = "Is there anything here that interests you?",
			Type = "Question",
			Responses = {
				{Text = "Yes", Next = 3, ButtonNumber = 1},
				{Text = "No", Next = 5, ButtonNumber = 2}
			}
		},
		[3] = {
			Msg = "What is it?",
			Type = "Question",
			Responses = {
				{Text = "Idk", Next = 5, ButtonNumber = 1},
				{Text = "Buy a Sword", Next = 4, ButtonNumber = 2},
				{Text = "Who are you?", Next = 6, ButtonNumber = 3},
				{Text = "Who am I?", Next = 7, ButtonNumber = 4}
			}
		},
		[4] = {
			Type = "Condition",
			Condition = function()
				if game.Players.LocalPlayer.Backpack:FindFirstChild("Tool") then
					return 8
				else
					return 9
				end
			end
		},
		[5] = {
			Msg = "Goodbye",
			Type = "Farewell"
		},
		[6] = {
			Msg = "I'm an NPC I ALREADY TOLD YOU, ARE YOU STUPID???",
			Type = "Farewell"
		},
		[7] = {
			Msg = "...",
			Type = "Farewell"
		},
		[8] = {
			Msg = "You already bought a sword!",
			Type = "Farewell"
		},
		[9] = {
			Msg = "Here is your sword!",
			Type = "Farewell",
			Condition = function()
				local Sword = Instance.new("Tool")
				Sword.Parent = game.Players.LocalPlayer.Backpack
			end
		}
	}
}

local function GetDialogue(npc, id)
	return Dialogue[npc][id]
end

local function GetResponses(npc, id)
	local dialogue = GetDialogue(npc, id)
	if dialogue and dialogue.Type == "Question" then
		local responses = {}
		for _, response in ipairs(dialogue.Responses) do
			table.insert(responses, response)
		end

		table.insert(responses, {Text = "Nevermind", Next = "Farewell", ButtonNumber = 5})
		return responses
	end
	return nil
end

local function GetFarewell(npc)
	return {Msg = "Goodbye", Type = "Farewell"}
end

return {
	GetDialogue = GetDialogue,
	GetResponses = GetResponses,
	GetFarewell = GetFarewell
}
